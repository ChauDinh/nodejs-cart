extends ../layout/common.pug
block content

  .d-flex.mb-3.align-items-center
    h1 Products 

    a.btn.btn-info.ml-auto(href="/products/create") + New Products

  form(action="/products/search", method="GET", class="d-flex") 
    input(type="text", name="q", class="form-control", value=searchPhrase ? searchPhrase : '')
    button(class="btn btn-primary ml-2") Search

  table.table
    tr 
      th Name
      th Author
      th Published
      th Details

    each product in products 
      tr
        td= product.name
        td= product.author
        td= product.published
        td 
          a.btn.btn-light(href="/products/" + product.id) View
          a.btn.btn-info.mx-2(href="/cart/add/" + product.id) Add to cart